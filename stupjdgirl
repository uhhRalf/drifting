local Players = game:GetService("Players")
local MT = getrawmetatable(game)
local OldIndex = MT. __index
local OldNamecall = MT.__namecall


setreadonly(MT, false)
MT.__index = newcclosure(function(H, HP, T, D) --Bypasses some anti FTI checks. (uBlubble, Xelvidant, etc.)
	if not checkcaller() and getnamecallmethod() then
		if tostring(H) == "Humanoid" and tostring(HP) == "Health" then
			return 0
		end
		if tostring(T) == "Position" and tostring(D) == "Magnitude" then
			return 0
		end
	end
	return OldIndex(H, HP)
end)

local StarterGui = game:GetService("StarterGui")
local DevConsoleHook --Bypasses all dev console disablers.
DevConsoleHook = hookfunc(StarterGui.SetCore, newcclosure(function(Self, ...)
	local Args = table.pack(...)
	if Self == StarterGui then
		if Args[1] == "DevConsoleVisible" then
			Args[1] = nil
		end
	end
end))

--Bypasses script execution.
for _,v in next, getconnections(game:GetService("LogService").MessageOut) do
	v:Disable()
end
for _,v in next, getconnections(game:GetService("ScriptContext").Error) do
	v:Disable()
end

game:GetService("ScriptContext"):SetTimeout(0.1)
setreadonly(MT, true) 

local UNIATTEMPT = true
local VisualizerTransparencyAmount = 0.6
local UIS = game:GetService("UserInputService")

-----------------------------
--bypass 2
local customtheme = "Dark"
local BoostMulti = 1000
local scriptEnabled = true
local DriveMode = "Drift"
local playername = game.Players.LocalPlayer.Name
local CustomTime = true
local cTime = 12

local Material = loadstring(game:HttpGet("https://raw.githubusercontent.com/Kinlei/MaterialLua/master/Module.lua"))()
local UI = Material.Load({
	Title = "Stupjdgirl's Tuner <3",
	Style = 1,
	SizeX = 300,
	SizeY = 300,
	Theme = customtheme
})


local Page2 = UI.New({
	Title = "Illegal Mod"
})
local Page = UI.New({
	Title = "Extras"
})

local BoostSize = Page2.Slider({
	Text = "Boost Multiplier",
	Callback = function(value)
		BoostMulti = value
		BoostMulti = tonumber(value)
	end,
	Min = 0,
	Max = 1000,
	Def = 1000
    
})

local scriptEnabled1 = Page2.Toggle({
	Text = "Enable Tune",
	Callback = function(value)
		scriptEnabled = value
	end,
    Enabled = true
})


local DriveModeOptions = Page2.Dropdown({
	Text = "Tune Type",
	Callback = function(value)
		DriveMode = value
	end,
	Options = {"Drift", "Race"}
    Menu = {
        Info = function(self)
            UI.Banner({
                Text = "Improves sky and deletes trees in Mt. Otsuki for improved visibility"
            })
        end,
    }
})

local AcOnText = Page2.TextField({
	Text = game.Players.LocalPlayer.Name,
	Callback = function(value)
        playername = value
        print (getPlayer(playername))
	end,
    Menu = {
        Info = function(self)
            UI.Banner({
                Text = "Set this to the user's car you want to tune (They will have to respawn their car and will only work for you)"
            })
            self.SetText(game.Players.LocalPlayer.Name)

        end,
    }
})


local LowDetailMode = Page.Button({
    Text = "Low Detail Mode",
    Callback = function()
        game.Lighting.Skybox:Destroy()
        while true do
            game.Workspace.NewOtsukiTree:Destroy()
            wait(0)
        end
           
    end,
    Menu = {
        Info = function(self)
            UI.Banner({
                Text = "Improves sky and deletes trees in Mt. Otsuki for improved visibility"
            })
        end,
    }
})

local CtimeEnable = Page.Toggle({
    Text = "Custom Time",
    Callback = function(value)
        CustomTime = value
        print (value)
    end,

})

local cTimeSlider = Page.Slider({
    Text = "Time (Hours)",
    Callback = function(value)
        cTime = value
        cTime = tonumber(value)

    end,
    Min = 0,
	Max = 24,
	Def = 12
})

local LowerCar = Page.Button({
    Text = "Lower Car",
    Callback = function()
        local wheel = game.Workspace.VehiclesFolder[tostring(game.Players.LocalPlayer)]:FindFirstChildOfClass("Model").Wheels
        wheel.RR.Size = Vector3.new(2,2,2)
        wheel.FR.Size = Vector3.new(2,2,2)
        wheel.FL.Size = Vector3.new(2,2,2)
        wheel.RL.Size = Vector3.new(2,2,2)
    end,
    Menu = {
        Info = function(self)
            UI.Banner({
                Text = "Your car will appear to have lowered suspension to others"
            })
        end,
    }
})

local HideName = Page.Button({
    Text = "Hide Name (Requires Chair Gamepass)",
    Callback = function()
        local humanoidroot = game.Workspace[tostring(game.Players.LocalPlayer.Name)].HumanoidRootPart
        local currentPosition = humanoidroot.CFrame
        humanoidroot.CFrame = CFrame.new(0,10000,0) * CFrame.Angles(math.rad(45),0,0)
        wait(0.1)
        game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvents"):WaitForChild("DeployChair"):FireServer()
        wait(0.1)
        humanoidroot.CFrame = currentPosition
    end,
})

function getPlayer(shortcut)
    local player = nil
  
    local g = game.Players:GetPlayers()
    for i = 1, #g do
      if string.lower(string.sub(g[i].Name, 1, string.len(shortcut))) == string.lower(shortcut) then
        player = g[i]
        break
      end
    end
  
    return player
  
end

function driftfunc()
    local tryjng=require(game.Workspace.VehiclesFolder[tostring(getPlayer(playername))]:FindFirstChildOfClass("Model"):FindFirstChildOfClass("ModuleScript"))
    tryjng.Boost = tonumber(BoostMulti)
    tryjng.LoadDelay = 1
    tryjng.AutoStart = false
    tryjng.AutoFlip = true
    tryjng.AutoUpdate = false
    tryjng.FCamber = -1
    tryjng.RCamber = -1
    tryjng.FCaster = 0
    tryjng.FToe = 0
    tryjng.RToe = 0
    tryjng.Weight = 500000
    tryjng.WeightBSize = { 7.361, 4.99, 17.655 }
    tryjng.WeightDist = 50
    tryjng.CGHeight = 1.2
    tryjng.WBVisible = false
    tryjng.FWheelDensity = 0.1
    tryjng.RWheelDensity = 0.1
    tryjng.FWLgcyDensity = 1
    tryjng.RWLgcyDensity = 1
    tryjng.AxleSize = 2
    tryjng.AxleDensity = 0.1
    tryjng.SusEnabled = true
    tryjng.FSusDamping = 180
    tryjng.FSusStiffness = 5750
    tryjng.FAntiRoll = 50
    tryjng.FSusLength = 2
    tryjng.FPreCompress = 0.3
    tryjng.FExtensionLim = 0.3
    tryjng.FCompressLim = 0.6
    tryjng.FSusAngle = 80
    tryjng.FWsBoneLen = 5
    tryjng.FWsBoneAngle = 0
    tryjng.FAnchorOffset = { -0.4, -0.5, 0 }
    tryjng.RSusDamping = 180
    tryjng.RSusStiffness = 5750
    tryjng.RAntiRoll = 50
    tryjng.RSusLength = 2
    tryjng.RPreCompress = 0.3
    tryjng.RExtensionLim = 0.3
    tryjng.RCompressLim = 0.6
    tryjng.RSusAngle = 80
    tryjng.RWsBoneLen = 5
    tryjng.RWsBoneAngle = 0
    tryjng.RAnchorOffset = { -0.4, -0.5, 0 }
    tryjng.SusVisible = true
    tryjng.WsBVisible = true
    tryjng.SusRadius = 0.2
    tryjng.SusThickness = 0.1
    tryjng.SusColor = "Bright red"
    tryjng.SusCoilCount = 6
    tryjng.WsColor = "Bright red"
    tryjng.WsThickness = 0.1
    tryjng.FGyroDamp = 100
    tryjng.RGyroDamp = 100
    tryjng.SteerInner = 60
    tryjng.SteerOuter = 60
    tryjng.SteerSpeed = 0.07
    tryjng.ReturnSpeed = 0.1
    tryjng.SteerDecay = 300
    tryjng.MinSteer = 10
    tryjng.MSteerExp = 1
    tryjng.SteerD = 2550
    tryjng.SteerMaxTorque = 500000
    tryjng.SteerP = 100000
    tryjng.Engine = true
    tryjng.EngineName = "SR20DET"
    tryjng.Horsepower = 100
    tryjng.IdleRPM = 700
    tryjng.PeakRPM = 6400
    tryjng.Redline = 7000
    tryjng.EqPoint = 5252
    tryjng.PeakSharpness = 6
    tryjng.CurveMult = 0.2
    tryjng.InclineComp = 1.3
    tryjng.Aspiration = "Single"
    tryjng.TurboSize = 50
    tryjng.CompressRatio = 7.4
    tryjng.Sensitivity = 0.05
    tryjng.ThrotAccel = 1
    tryjng.ThrotDecel = 1
    tryjng.BrakeAccel = 1
    tryjng.BrakeDecel = 1
    tryjng.RevAccel = 300
    tryjng.RevDecay = 75
    tryjng.RevBounce = 500
    tryjng.IdleThrottle = 3
    tryjng.Flywheel = 250
    tryjng.Drag = 0
    tryjng.Config = "RWD"
    tryjng.TorqueVector = 0
    tryjng.FDiffSlipThres = 50
    tryjng.FDiffLockThres = 50
    tryjng.RDiffSlipThres = 50
    tryjng.RDiffLockThres = 50
    tryjng.CDiffSlipThres = 50
    tryjng.CDiffLockThres = 50
    tryjng.TCSEnabled = true
    tryjng.TCSThreshold = 20
    tryjng.TCSGradient = 20
    tryjng.TCSLimit = 10
    tryjng.Clutch = true
    tryjng.TransModes = { "Auto", "Semi", "Manual" }
    tryjng.ClutchMode = "New"
    tryjng.ClutchType = "Clutch"
    tryjng.Stall = false
    tryjng.ClutchRel = false
    tryjng.ClutchEngage = 25
    tryjng.SpeedEngage = 15
    tryjng.ClutchRPMMult = 1
    tryjng.TQLock = false
    tryjng.RPMEngage = 3500
    tryjng.AutoShiftMode = "Speed"
    tryjng.AutoShiftType = "DCT"
    tryjng.AutoShiftVers = "New"
    tryjng.AutoUpThresh = -200
    tryjng.AutoDownThresh = 1400
    tryjng.ShiftThrot = 70
    tryjng.ShiftUpTime = 0.1
    tryjng.ShiftDnTime = 0.1
    tryjng.FinalDrive = 3.85
    tryjng.Ratios = { 3.641, 0, 3.626, 2.2, 1.541, 1.213, 1, 0.767 }
    tryjng.FDMult = 1
    tryjng.ABSEnabled = true
    tryjng.ABSThreshold = 20
    tryjng.FBrakeForce = 800
    tryjng.RBrakeForce = 800
    tryjng.PBrakeForce = 3000
    tryjng.FLgcyBForce = 15000
    tryjng.RLgcyBForce = 10000
    tryjng.LgcyPBForce = 25000
end

function racefunc()
    local tryjng=require(game.Workspace.VehiclesFolder[tostring(getPlayer(playername))]:FindFirstChildOfClass("Model"):FindFirstChildOfClass("ModuleScript"))
    tryjng.LoadDelay = 1
    tryjng.AutoStart = false
    tryjng.AutoFlip = true
    tryjng.AutoUpdate = false
    tryjng.FCamber = -1
    tryjng.RCamber = -1
    tryjng.FCaster = 0
    tryjng.FToe = 0
    tryjng.RToe = 0
    tryjng.Weight = 500000
    tryjng.WeightBSize = { 7.361, 4.99, 17.655 }
    tryjng.WeightDist = 50
    tryjng.CGHeight = 1.2
    tryjng.WBVisible = false
    tryjng.FWheelDensity = 0.1
    tryjng.RWheelDensity = 0.1
    tryjng.FWLgcyDensity = 1
    tryjng.RWLgcyDensity = 1
    tryjng.AxleSize = 2
    tryjng.AxleDensity = 0.1
    tryjng.SusEnabled = true
    tryjng.FSusDamping = 180
    tryjng.FSusStiffness = 5750
    tryjng.FAntiRoll = 50
    tryjng.FSusLength = 2
    tryjng.FPreCompress = 0.3
    tryjng.FExtensionLim = 0.3
    tryjng.FCompressLim = 0.6
    tryjng.FSusAngle = 80
    tryjng.FWsBoneLen = 5
    tryjng.FWsBoneAngle = 0
    tryjng.FAnchorOffset = { -0.4, -0.5, 0 }
    tryjng.RSusDamping = 180
    tryjng.RSusStiffness = 5750
    tryjng.RAntiRoll = 50
    tryjng.RSusLength = 2
    tryjng.RPreCompress = 0.3
    tryjng.RExtensionLim = 0.3
    tryjng.RCompressLim = 0.6
    tryjng.RSusAngle = 80
    tryjng.RWsBoneLen = 5
    tryjng.RWsBoneAngle = 0
    tryjng.RAnchorOffset = { -0.4, -0.5, 0 }
    tryjng.SusVisible = true
    tryjng.WsBVisible = true
    tryjng.SusRadius = 0.2
    tryjng.SusThickness = 0.1
    tryjng.SusColor = "Bright red"
    tryjng.SusCoilCount = 6
    tryjng.WsColor = "Bright red"
    tryjng.WsThickness = 0.1
    tryjng.FGyroDamp = 100
    tryjng.RGyroDamp = 100
    tryjng.SteerInner = 60
    tryjng.SteerOuter = 60
    tryjng.SteerSpeed = 0.07
    tryjng.ReturnSpeed = 0.1
    tryjng.SteerDecay = 300
    tryjng.MinSteer = 10
    tryjng.MSteerExp = 1
    tryjng.SteerD = 2550
    tryjng.SteerMaxTorque = 5000000
    tryjng.SteerP = 100000
    tryjng.Engine = true
    tryjng.EngineName = "SR20DET"
    tryjng.IdleRPM = 700
    tryjng.PeakRPM = 6400
    tryjng.Redline = 7000
    tryjng.EqPoint = 5252
    tryjng.PeakSharpness = 6
    tryjng.CurveMult = 0.2
    tryjng.InclineComp = 1.3
    tryjng.Aspiration = "Single"
    tryjng.Boost = 25
    tryjng.TurboSize = 50
    tryjng.CompressRatio = 7.4
    tryjng.Sensitivity = 0.05
    tryjng.ThrotAccel = 1
    tryjng.ThrotDecel = 1
    tryjng.BrakeAccel = 1
    tryjng.BrakeDecel = 1
    tryjng.RevAccel = 300
    tryjng.RevDecay = 75
    tryjng.RevBounce = 500
    tryjng.IdleThrottle = 3
    tryjng.Flywheel = 250
    tryjng.Drag = 0
    tryjng.Config = "AWD"
    tryjng.TorqueVector = 0
    tryjng.FDiffSlipThres = 50
    tryjng.FDiffLockThres = 50
    tryjng.RDiffSlipThres = 15
    tryjng.RDiffLockThres = 30
    tryjng.CDiffSlipThres = 50
    tryjng.CDiffLockThres = 50
    tryjng.TCSEnabled = true
    tryjng.TCSThreshold = 20
    tryjng.TCSGradient = 20
    tryjng.TCSLimit = 10
    tryjng.Clutch = true
    tryjng.TransModes = { "Auto", "Semi", "Manual" }
    tryjng.ClutchMode = "New"
    tryjng.ClutchType = "Clutch"
    tryjng.Stall = false
    tryjng.ClutchRel = false
    tryjng.ClutchEngage = 25
    tryjng.SpeedEngage = 15
    tryjng.ClutchRPMMult = 1
    tryjng.TQLock = false
    tryjng.RPMEngage = 3500
    tryjng.AutoShiftMode = "Speed"
    tryjng.AutoShiftType = "DCT"
    tryjng.AutoShiftVers = "New"
    tryjng.AutoUpThresh = 500
    tryjng.AutoDownThresh = -400
    tryjng.ShiftThrot = 0
    tryjng.ShiftUpTime = 0
    tryjng.ShiftDnTime = 0
    tryjng.FinalDrive = 3.85
    tryjng.Ratios = { 3.641, 0, 3.626, 2.2, 1.541, 1.213, 1, 0.767 }
    tryjng.FDMult = 1
    tryjng.ABSEnabled = true
    tryjng.ABSThreshold = 20
    tryjng.FBrakeForce = 3000
    tryjng.RBrakeForce = 2300
    tryjng.PBrakeForce = 4000
    tryjng.FLgcyBForce = 15000
    tryjng.RLgcyBForce = 10000
    tryjng.LgcyPBForce = 25000
end

game.Workspace.VehiclesFolder[tostring(getPlayer(playername))].DescendantAdded:Connect(function(descendant)

    wait(1)
    if scriptEnabled == true then
        if DriveMode == "Drift" then
    	driftfunc() 
        elseif DriveMode == "Race" then
            racefunc()
        else return end
    else return end
 end)

 while true do
    wait()    
    while CustomTime == true do
        wait()
        game.Lighting.ClockTime = (cTime)
        if CustomTime == false then
            break
        end
    end
end
